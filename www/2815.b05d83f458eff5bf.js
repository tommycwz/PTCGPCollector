"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2815],{2815:(j,m,d)=>{d.r(m),d.d(m,{CollectionPage:()=>F});var c=d(467),h=d(2200),x=d(4341),a=d(7343),t=d(3664),u=d(2615),v=d(4412),C=d(7673),y=d(6354),_=d(9437),b=d(9330),P=d(9546),f=d(4796);let O=(()=>{var g;class l{constructor(e,n,o){this.http=e,this.supabaseService=n,this.authService=o,this.IMAGE_BASE_URL="https://raw.githubusercontent.com/flibustier/pokemon-tcg-exchange/main/public/images/cards/",this.userCollectionSubject=new v.t([]),this.userCollection$=this.userCollectionSubject.asObservable(),this.processedCards=null}loadCards(){return this.processedCards?(0,C.of)(this.processedCards):this.http.get("assets/data/pokemon-tcg-pocket-cards.json").pipe((0,y.T)(e=>Array.isArray(e)?(console.log(`Loaded ${e.length} cards from pokemon-tcg-pocket-database`),this.processedCards=e.map(n=>this.processCard(n)),this.processedCards):(console.error("Invalid card data format:",e),[])),(0,_.W)(e=>(console.error("Error loading cards from assets:",e),console.log("Please make sure the cards file is copied to assets/data/pokemon-tcg-pocket-cards.json"),(0,C.of)([]))))}processCard(e){return{...e,cardDefKey:`${e.set}-${e.number}`,displayImageUrl:`${this.IMAGE_BASE_URL}${e.imageName}`,name:e.label.eng}}loadStaticCards(){return this.loadCards()}loadMainDataFile(){return this.loadCards()}clearStoredData(){try{localStorage.removeItem("pokemon_cards_data"),console.log("Cleared stored card data")}catch(e){console.error("Error clearing stored data:",e)}}getAllCards(){return this.loadCards()}saveCardsToStorage(e){try{localStorage.setItem("pokemon_cards_data",JSON.stringify(e)),console.log(`Saved ${e.length} cards to storage`)}catch(n){console.error("Error saving cards to storage:",n)}}getStoredCards(){try{const e=localStorage.getItem("pokemon_cards_data");return e?JSON.parse(e):[]}catch(e){return console.error("Error reading cards from storage:",e),[]}}loadUserCollection(){var e=this;return(0,c.A)(function*(){const n=e.authService.getUserId();if(n)try{const r=(yield e.supabaseService.getUserCards(n)).map(s=>({cardDefKey:s.card_def_key,quantity:s.quantity,isOwned:!0,dateAdded:s.created_at}));e.userCollectionSubject.next(r)}catch(o){console.error("Error loading user collection:",o),e.userCollectionSubject.next([])}else e.userCollectionSubject.next([])})()}getCollection(){return this.userCollectionSubject.value}addToCollection(e){var n=this;return(0,c.A)(function*(o,r=1){const s=n.authService.getUserId();if(!s||!o.cardDefKey)return!1;const p=yield n.supabaseService.addCardToCollection(s,o.cardDefKey,r);return p&&(yield n.loadUserCollection()),p}).apply(this,arguments)}removeFromCollection(e){var n=this;return(0,c.A)(function*(){const o=n.authService.getUserId();if(!o)return!1;const r=yield n.supabaseService.removeCardFromCollection(o,e);return r&&(yield n.loadUserCollection()),r})()}updateCardQuantity(e,n){var o=this;return(0,c.A)(function*(){const r=o.authService.getUserId();if(!r)return!1;const s=yield o.supabaseService.updateCardQuantity(r,e,n);return s&&(yield o.loadUserCollection()),s})()}isInCollection(e){return this.userCollectionSubject.value.some(o=>o.cardDefKey===e&&o.isOwned)}getCardQuantity(e){return this.userCollectionSubject.value.find(r=>r.cardDefKey===e)?.quantity||0}getCollectionStats(){var e=this;return(0,c.A)(function*(){const n=e.authService.getUserId();return n?yield e.supabaseService.getCollectionStats(n):{totalCards:0,totalQuantity:0}})()}searchCards(e){const n=this.processedCards||[],o=e.toLowerCase();return n.filter(r=>r.name&&r.name.toLowerCase().includes(o)||r.set.toLowerCase().includes(o)||r.label.eng.toLowerCase().includes(o))}getCardsByExpansion(e){return(this.processedCards||[]).filter(o=>o.set===e)}getExpansions(){const n=(this.processedCards||[]).map(o=>o.set);return[...new Set(n)].sort()}static#e=g=()=>(this.\u0275fac=function(n){return new(n||l)(u.KVO(b.Qq),u.KVO(P.w),u.KVO(f.u))},this.\u0275prov=u.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}))}return g(),l})();var M=d(1562);function w(g,l){if(1&g&&(t.j41(0,"ion-select-option",19),t.EFF(1),t.k0s()),2&g){const i=l.$implicit;t.Y8G("value",i),t.R7$(),t.SpI(" ",i," ")}}function S(g,l){if(1&g){const i=t.RV6();t.j41(0,"div",26)(1,"div",27)(2,"div",28)(3,"img",29),t.bIt("error",function(n){u.eBV(i);const o=t.XpG(2);return u.Njj(o.onImageError(n))}),t.k0s(),t.j41(4,"div",30)(5,"div"),t.nrm(6,"br"),t.j41(7,"small"),t.EFF(8),t.k0s()()()(),t.j41(9,"div",31)(10,"h3",32),t.EFF(11),t.k0s()(),t.j41(12,"div",33)(13,"ion-button",34),t.bIt("click",function(){const n=u.eBV(i).$implicit,o=t.XpG(2);return u.Njj(o.decreaseQuantity(n))}),t.nrm(14,"ion-icon",35),t.k0s(),t.j41(15,"span",36),t.EFF(16),t.k0s(),t.j41(17,"ion-button",37),t.bIt("click",function(){const n=u.eBV(i).$implicit,o=t.XpG(2);return u.Njj(o.addToCollection(n))}),t.nrm(18,"ion-icon",38),t.k0s()()()()}if(2&g){const i=l.$implicit,e=t.XpG(2);t.R7$(),t.AVh("owned",e.isInCollection(i))("not-collected",!e.isInCollection(i)),t.R7$(2),t.Y8G("src",i.displayImageUrl,t.B4B)("alt",i.label.eng),t.R7$(5),t.JRh(i.label.eng),t.R7$(3),t.E5c("",i.set,"",i.number," - ",i.label.eng),t.R7$(2),t.Y8G("disabled",0===e.getCardCount(i)),t.R7$(3),t.JRh(e.getCardCount(i))}}function k(g,l){if(1&g&&(t.j41(0,"div",20)(1,"div",21)(2,"h2",22),t.EFF(3),t.k0s(),t.j41(4,"span",23),t.EFF(5),t.k0s()(),t.j41(6,"div",24),t.DNE(7,S,19,12,"div",25),t.k0s()()),2&g){const i=l.$implicit;t.R7$(3),t.JRh(i.setName),t.R7$(2),t.SpI("",i.cards.length," cards"),t.R7$(2),t.Y8G("ngForOf",i.cards)}}function E(g,l){1&g&&(t.j41(0,"div",39),t.nrm(1,"ion-icon",40),t.j41(2,"h2"),t.EFF(3,"No cards found"),t.k0s(),t.j41(4,"p"),t.EFF(5,"Try adjusting your search or filters"),t.k0s()())}let F=(()=>{var g;class l{constructor(e,n,o,r,s,p){this.cardService=e,this.authService=n,this.router=o,this.loadingController=r,this.toastController=s,this.alertController=p,this.allCards=[],this.filteredCards=[],this.cardsBySet=[],this.collection=[],this.loading=!1,this.searchTerm="",this.selectedExpansion="",this.expansions=[],this.viewMode="all",this.collectionStats={totalCards:0,totalQuantity:0},this.subscriptions=[]}ngOnInit(){this.loadCards(),this.loadUserCollection()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadUserCollection(){var e=this;return(0,c.A)(function*(){yield e.cardService.loadUserCollection();const n=e.cardService.userCollection$.subscribe(function(){var o=(0,c.A)(function*(r){e.collection=r,e.filterCards(),e.collectionStats=yield e.cardService.getCollectionStats()});return function(r){return o.apply(this,arguments)}}());e.subscriptions.push(n)})()}loadCards(){var e=this;return(0,c.A)(function*(){const n=yield e.loadingController.create({message:"Loading Pokemon cards..."});yield n.present();try{e.cardService.loadCards().subscribe({next:o=>{o&&o.length>0?(e.allCards=o,e.setupCollectionData(),console.log(`Successfully loaded ${o.length} cards`)):e.showError("No cards found. Please check if pokemon-tcg-pocket-database is properly set up."),n.dismiss()},error:o=>{console.error("Error loading cards:",o),n.dismiss(),e.showError("Error loading cards from database. Check console for details.")}})}catch{n.dismiss(),e.showError("Error loading cards")}})()}setupCollectionData(){this.collection=this.cardService.getCollection(),this.expansions=this.cardService.getExpansions(),this.filterCards()}filterCards(){let e=[...this.allCards];if(this.searchTerm.trim()){const n=this.searchTerm.toLowerCase();e=e.filter(o=>o.name&&o.name.toLowerCase().includes(n)||o.set.toLowerCase().includes(n)||o.label.eng.toLowerCase().includes(n))}if(this.selectedExpansion&&(e=e.filter(n=>n.set===this.selectedExpansion)),"owned"===this.viewMode){const n=this.collection.map(o=>o.cardDefKey);e=e.filter(o=>o.cardDefKey&&n.includes(o.cardDefKey))}this.filteredCards=e,this.groupCardsBySet()}groupCardsBySet(){const e=new Map;this.filteredCards.forEach(n=>{e.has(n.set)||e.set(n.set,[]),e.get(n.set).push(n)}),this.cardsBySet=Array.from(e.entries()).map(([n,o])=>({setName:n,cards:o.sort((r,s)=>r.number-s.number)})).sort((n,o)=>n.setName.localeCompare(o.setName))}onSearchChange(e){this.searchTerm=e.target.value||"",this.filterCards()}onExpansionChange(e){this.selectedExpansion=e.target.value||"",this.filterCards()}onViewModeChange(e){this.viewMode=e.target.value||"all",this.filterCards()}addToCollection(e){var n=this;return(0,c.A)(function*(){(yield n.cardService.addToCollection(e,1))?n.showToast(`Added "${e.label.eng}" to collection`):n.showError("Failed to add card to collection")})()}removeFromCollection(e){e.cardDefKey&&(this.cardService.removeFromCollection(e.cardDefKey),this.collection=this.cardService.getCollection(),this.showToast(`Removed "${e.name||e.label.eng}" from collection`),this.filterCards())}isInCollection(e){return!!e.cardDefKey&&this.cardService.isInCollection(e.cardDefKey)}getCardCount(e){return e.cardDefKey?this.cardService.getCardQuantity(e.cardDefKey):0}getQuantityClass(e){const n=this.getCardCount(e);return 0===n?"quantity-zero":1===n?"quantity-one":n<=3?"quantity-few":"quantity-many"}decreaseQuantity(e){var n=this;return(0,c.A)(function*(){if(!e.cardDefKey)return;const o=n.getCardCount(e);if(o>0){const r=o-1;0===r?(yield n.cardService.removeFromCollection(e.cardDefKey),n.showToast(`Removed "${e.label.eng}" from collection`)):(yield n.cardService.updateCardQuantity(e.cardDefKey,r),n.showToast(`Updated "${e.label.eng}" quantity to ${r}`))}})()}toggleCardInCollection(e,n){var o=this;return(0,c.A)(function*(){n.stopPropagation(),e.cardDefKey&&(o.cardService.isInCollection(e.cardDefKey)?(yield o.cardService.removeFromCollection(e.cardDefKey))?o.showToast(`Removed ${e.name||e.label.eng} from collection`):o.showError("Failed to remove card from collection"):(yield o.cardService.addToCollection(e))?o.showToast(`Added ${e.name||e.label.eng} to collection`):o.showError("Failed to add card to collection"))})()}logout(){var e=this;return(0,c.A)(function*(){e.authService.logout(),e.router.navigate(["/login"])})()}refreshCollection(){var e=this;return(0,c.A)(function*(){const n=yield e.loadingController.create({message:"Refreshing collection..."});yield n.present();try{yield e.cardService.loadUserCollection(),n.dismiss(),e.showToast("Collection refreshed!")}catch{n.dismiss(),e.showError("Failed to refresh collection")}})()}loadStaticData(){var e=this;return(0,c.A)(function*(){const n=yield e.loadingController.create({message:"Loading sample Pokemon cards..."});yield n.present(),e.cardService.loadStaticCards().subscribe({next:o=>{e.allCards=o,e.cardService.saveCardsToStorage(o),e.setupCollectionData(),n.dismiss(),e.showToast("Loaded sample Pokemon cards successfully!")},error:o=>{console.error("Error loading static cards:",o),n.dismiss(),e.showError("Failed to load sample cards")}})})()}showDataFileInstructions(){var e=this;return(0,c.A)(function*(){yield(yield e.alertController.create({header:"Manual Data Upload",message:'\n        <div>\n          <p><strong>To add your Pokemon cards data:</strong></p>\n          <ol>\n            <li>Save your <code>pokemon-cards.json</code> file to:</li>\n            <li><code>src/assets/data/pokemon-cards.json</code></li>\n            <li>Restart the development server</li>\n            <li>Click "Reload Data" to load your cards</li>\n          </ol>\n          <p><strong>File format:</strong> The JSON file should have the same structure as the sample file.</p>\n          <p>Until then, the app will use sample data.</p>\n        </div>\n      ',buttons:[{text:"Reload Data",handler:()=>{e.reloadData()}},{text:"OK",role:"cancel"}]})).present()})()}reloadData(){var e=this;return(0,c.A)(function*(){const n=yield e.loadingController.create({message:"Reloading Pokemon cards data...",spinner:"lines"});yield n.present();try{e.cardService.clearStoredData(),e.cardService.loadCards().subscribe({next:o=>{o.length>0?(e.allCards=o,e.cardService.saveCardsToStorage(o),e.setupCollectionData(),n.dismiss(),e.showToast(`Successfully loaded ${o.length} Pokemon cards!`)):(n.dismiss(),e.showFileNotFoundError())},error:o=>{console.error("Error reloading cards:",o),n.dismiss(),e.showFileNotFoundError()}})}catch{n.dismiss(),e.showError("An unexpected error occurred while reloading data.")}})()}showFileNotFoundError(){var e=this;return(0,c.A)(function*(){yield(yield e.alertController.create({header:"Data File Not Found",message:'\n        <div>\n          <p><strong>Pokemon cards data file not found.</strong></p>\n          <p>To add your Pokemon cards:</p>\n          <ol>\n            <li>Place your <code>pokemon-cards.json</code> file in:</li>\n            <li><code>src/assets/data/pokemon-cards.json</code></li>\n            <li>Restart the development server</li>\n            <li>Click "Reload Data"</li>\n          </ol>\n          <p><strong>File format:</strong> Use the same JSON structure as the sample file.</p>\n          <p>For now, the app will use sample data.</p>\n        </div>\n      ',buttons:[{text:"Load Sample Data",handler:()=>{e.loadSampleData()}},{text:"View Instructions",handler:()=>{e.showDataFileInstructions()}},{text:"OK",role:"cancel"}]})).present()})()}loadSampleData(){var e=this;return(0,c.A)(function*(){const n=yield e.loadingController.create({message:"Loading sample data..."});yield n.present(),e.cardService.loadStaticCards().subscribe({next:o=>{e.allCards=o,e.setupCollectionData(),n.dismiss(),e.showToast("Sample data loaded successfully!")},error:o=>{console.error("Error loading sample data:",o),n.dismiss(),e.showError("Failed to load sample data.")}})})()}getCollectionStats(){return this.collectionStats}getDataSourceLabel(){const e=this.allCards.length;return 0===e?"No Data":e<=20?"Sample":"Full API"}getDataSourceIcon(){const e=this.allCards.length;return 0===e?"alert-circle":e<=20?"library":"cloud-done"}getDataSourceColor(){const e=this.allCards.length;return 0===e?"warning":e<=20?"medium":"success"}onImageError(e){const n=e.target,o=n.nextElementSibling;n&&o&&(n.style.display="none",o.style.display="flex")}showToast(e){var n=this;return(0,c.A)(function*(){yield(yield n.toastController.create({message:e,duration:2e3,position:"bottom"})).present()})()}showError(e){var n=this;return(0,c.A)(function*(){yield(yield n.toastController.create({message:e,duration:3e3,position:"bottom",color:"danger"})).present()})()}static#e=g=()=>(this.\u0275fac=function(n){return new(n||l)(t.rXU(O),t.rXU(f.u),t.rXU(M.Ix),t.rXU(a.Xi),t.rXU(a.K_),t.rXU(a.hG))},this.\u0275cmp=t.VBU({type:l,selectors:[["app-collection"]],decls:32,vars:8,consts:[[3,"translucent"],["slot","end"],["fill","outline","color","danger",3,"click"],["name","log-out","slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"filter-card"],["placeholder","Search cards...",3,"ionInput","value"],["size","6"],["placeholder","All Expansions",3,"ionChange","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","View Mode",3,"ionChange","value"],["value","all"],["value","owned"],[1,"cards-container"],["class","set-section",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[3,"value"],[1,"set-section"],[1,"set-header"],[1,"set-title"],[1,"set-stats"],[1,"cards-grid-5"],["class","card-wrapper",4,"ngFor","ngForOf"],[1,"card-wrapper"],[1,"card-item"],[1,"card-image-container"],["loading","lazy",1,"card-image",3,"error","src","alt"],[1,"card-placeholder",2,"display","none"],[1,"card-info"],[1,"card-id"],[1,"quantity-controls"],["fill","clear","size","small",3,"click","disabled"],["name","remove"],[1,"quantity-number"],["fill","clear","size","small",3,"click"],["name","add"],[1,"empty-state"],["name","library-outline","size","large"]],template:function(n,o){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Pokemon TCGP Collection"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return o.logout()}),t.nrm(6,"ion-icon",3),t.EFF(7," Logout "),t.k0s()()()(),t.j41(8,"ion-content",4)(9,"ion-header",5)(10,"ion-toolbar")(11,"ion-title",6),t.EFF(12,"Collection"),t.k0s()()(),t.j41(13,"ion-card",7)(14,"ion-card-content")(15,"ion-searchbar",8),t.bIt("ionInput",function(s){return o.onSearchChange(s)}),t.k0s(),t.j41(16,"ion-grid")(17,"ion-row")(18,"ion-col",9)(19,"ion-select",10),t.bIt("ionChange",function(s){return o.onExpansionChange(s)}),t.j41(20,"ion-select-option",11),t.EFF(21,"All Expansions"),t.k0s(),t.DNE(22,w,2,2,"ion-select-option",12),t.k0s()(),t.j41(23,"ion-col",9)(24,"ion-select",13),t.bIt("ionChange",function(s){return o.onViewModeChange(s)}),t.j41(25,"ion-select-option",14),t.EFF(26,"All Cards"),t.k0s(),t.j41(27,"ion-select-option",15),t.EFF(28,"My Collection"),t.k0s()()()()()()(),t.j41(29,"div",16),t.DNE(30,k,8,3,"div",17),t.k0s(),t.DNE(31,E,6,0,"div",18),t.k0s()),2&n&&(t.Y8G("translucent",!0),t.R7$(8),t.Y8G("fullscreen",!0),t.R7$(7),t.Y8G("value",o.searchTerm),t.R7$(4),t.Y8G("value",o.selectedExpansion),t.R7$(3),t.Y8G("ngForOf",o.expansions),t.R7$(2),t.Y8G("value",o.viewMode),t.R7$(6),t.Y8G("ngForOf",o.cardsBySet),t.R7$(),t.Y8G("ngIf",0===o.filteredCards.length&&!o.loading))},dependencies:[h.MD,h.Sq,h.bT,x.YN,a.bv,a.Jm,a.QW,a.b_,a.I9,a.hU,a.W9,a.lO,a.eU,a.iq,a.ln,a.S1,a.Nm,a.Ip,a.BC,a.ai,a.Je,a.Gw],styles:[".stats-card[_ngcontent-%COMP%]{margin:16px}.stats-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--ion-color-primary)}.stats-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.stats-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--ion-color-medium)}.upload-button[_ngcontent-%COMP%]{--border-radius: 8px;--padding-start: 12px;--padding-end: 12px;margin-right:8px}.upload-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:4px}.filter-card[_ngcontent-%COMP%]{margin:0 16px 16px}.cards-container[_ngcontent-%COMP%]{padding:0 8px;background:#1a1a1a;min-height:100vh}.set-section[_ngcontent-%COMP%]{margin-bottom:32px}.set-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 8px 12px;border-bottom:2px solid #333;margin-bottom:16px}.set-header[_ngcontent-%COMP%]   .set-title[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem;font-weight:600;margin:0}.set-header[_ngcontent-%COMP%]   .set-stats[_ngcontent-%COMP%]{color:#aaa;font-size:.875rem;font-weight:500}.cards-grid-5[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:12px;padding:0 8px;width:100%}@media (min-width: 1200px){.cards-grid-5[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:16px}}@media (max-width: 1199px) and (min-width: 900px){.cards-grid-5[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:14px}}@media (max-width: 899px) and (min-width: 600px){.cards-grid-5[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:12px}}@media (max-width: 599px) and (min-width: 400px){.cards-grid-5[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:10px;padding:0 4px}}@media (max-width: 399px){.cards-grid-5[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:8px;padding:0 2px}}.card-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;min-width:0}ion-content[_ngcontent-%COMP%]{--background: #1a1a1a}.card-item[_ngcontent-%COMP%]{background:#2a2a2a;border:1px solid #444;border-radius:8px;padding:8px;box-shadow:0 2px 8px #0000004d;transition:all .3s ease;position:relative;display:flex;flex-direction:column;width:100%;height:100%;min-height:380px}@media (max-width: 599px){.card-item[_ngcontent-%COMP%]{min-height:320px;padding:6px}}@media (max-width: 399px){.card-item[_ngcontent-%COMP%]{min-height:280px;padding:4px}}.card-item.owned[_ngcontent-%COMP%]{border:1px solid #555;background:#2a2a2a}.card-item.owned[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0006}.card-item.not-collected[_ngcontent-%COMP%]{background:#1a1a1a;opacity:.6;filter:grayscale(80%);transition:all .3s ease}.card-item.not-collected[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{opacity:.4}.card-item.not-collected[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{opacity:.6}.card-item.not-collected[_ngcontent-%COMP%]:hover{opacity:.8;filter:grayscale(50%);transform:translateY(-2px)}.card-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.card-image-container[_ngcontent-%COMP%]{position:relative;width:100%;flex-grow:1;display:flex;align-items:center;justify-content:center;margin-bottom:8px;min-height:300px}@media (max-width: 599px){.card-image-container[_ngcontent-%COMP%]{min-height:250px;margin-bottom:6px}}@media (max-width: 399px){.card-image-container[_ngcontent-%COMP%]{min-height:200px;margin-bottom:4px}}.card-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:contain;border-radius:6px;transition:transform .3s ease}.card-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}@media (max-width: 599px){.card-image[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 399px){.card-image[_ngcontent-%COMP%]{max-height:200px}}.card-placeholder[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#f0f0f0,#e0e0e0);display:flex;align-items:center;justify-content:center;color:#999;font-size:.8rem;text-align:center;border-radius:8px}.card-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:8px}.card-placeholder[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7rem;color:#666}.collection-badge[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:var(--ion-color-success);color:#fff;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700;box-shadow:0 2px 4px #0003}.card-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:8px;padding:4px}.card-id[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;margin:0;color:#ccc;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}@media (max-width: 599px){.card-id[_ngcontent-%COMP%]{font-size:.7rem;line-height:1.2}}@media (max-width: 399px){.card-id[_ngcontent-%COMP%]{font-size:.65rem;-webkit-line-clamp:1;line-clamp:1}}.quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;padding:4px;background:#1a1a1a;border-radius:16px;margin-top:auto}.quantity-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: #ccc;--background: transparent;--border-radius: 12px;--padding-start: 8px;--padding-end: 8px;--box-shadow: none;width:28px;height:28px;margin:0}.quantity-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--background: #333}.quantity-controls[_ngcontent-%COMP%]   ion-button[disabled][_ngcontent-%COMP%]{--color: #555}.quantity-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.9rem}@media (max-width: 599px){.quantity-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:26px;height:26px;--padding-start: 6px;--padding-end: 6px}.quantity-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 399px){.quantity-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:24px;height:24px;--padding-start: 4px;--padding-end: 4px}.quantity-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.75rem}}.quantity-controls[_ngcontent-%COMP%]   .quantity-number[_ngcontent-%COMP%]{color:#fff;font-size:.875rem;font-weight:600;min-width:24px;text-align:center;padding:0 4px}@media (max-width: 599px){.quantity-controls[_ngcontent-%COMP%]   .quantity-number[_ngcontent-%COMP%]{font-size:.8rem;min-width:20px}}@media (max-width: 399px){.quantity-controls[_ngcontent-%COMP%]   .quantity-number[_ngcontent-%COMP%]{font-size:.75rem;min-width:18px}}.card-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.card-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;height:32px;font-size:.75rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:64px 32px;color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-light-shade);margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:1.5rem;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.text-center[_ngcontent-%COMP%]{text-align:center}@media (max-width: 576px){.card-name[_ngcontent-%COMP%]{font-size:.8rem}.card-expansion[_ngcontent-%COMP%]{font-size:.7rem}.card-actions[_ngcontent-%COMP%]{flex-direction:column}.card-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:28px;font-size:.7rem}}@media (min-width: 768px){.cards-container[_ngcontent-%COMP%]{padding:0 16px}.card-item[_ngcontent-%COMP%]{margin-bottom:20px;padding:16px}.card-name[_ngcontent-%COMP%]{font-size:.9rem}.card-expansion[_ngcontent-%COMP%]{font-size:.8rem}}@media (min-width: 1024px){.card-actions[_ngcontent-%COMP%]{flex-direction:row}}"]}))}return g(),l})()}}]);